<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-07-21T14:25:24.2476024"><title>Dagger-Hilt | Jetpack Compose</title><script type="application/json" id="virtual-toc-data">[{"id":"implementation","level":0,"title":"Implementation","anchor":"#implementation"},{"id":"use","level":0,"title":"Use","anchor":"#use"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Dagger-Hilt | Jetpack Compose"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Jetpack Compose Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/dagger-hilt.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Dagger-Hilt | Jetpack Compose"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/dagger-hilt.html#webpage",
    "url": "writerside-documentation/dagger-hilt.html",
    "name": "Dagger-Hilt | Jetpack Compose",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Jetpack Compose Help"
}</script><!-- End Schema.org --></head><body data-id="Dagger-Hilt" data-main-title="Dagger-Hilt" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Jetpack Compose  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Dagger-Hilt" id="Dagger-Hilt.md">Dagger-Hilt</h1><p id="-4bazve_112">Hilt is a dependency injection library for Android that reduces the boilerplate of doing manual dependency injection in your project. Doing manual dependency injection requires you to construct every class and its dependencies by hand, and to use containers to reuse and manage dependencies.</p><p id="-4bazve_113">Hilt provides a standard way to use DI in your application by providing containers for every Android class in your project and managing their lifecycles automatically. Hilt is built on top of the popular DI library Dagger to benefit from the compile-time correctness, runtime performance, scalability, and Android Studio support that Dagger provides. For more information, see Hilt and Dagger.</p><section class="chapter"><h2 id="implementation" data-toc="implementation">Implementation</h2><section class="procedure-steps" id="-4bazve_114"><ol class="list _decimal"><li class="list__item" id="-4bazve_115"><p>Add the hilt-android-gradle-plugin plugin to your project's root build.gradle file: </p><div class="tabs" id="-4bazve_116" data-anchors="[-4bazve_117,-4bazve_119]"><div class="tabs__content" data-gtm="tab" id="-4bazve_117" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
plugins {
  ...
  id 'com.google.dagger.hilt.android' version '2.44' apply false
}
</div></div><div class="tabs__content" data-gtm="tab" id="-4bazve_119" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
plugins {
  ...
  id(&quot;com.google.dagger.hilt.android&quot;) version &quot;2.44&quot; apply false
}
</div></div></div></li><li class="list__item" id="-4bazve_121"><p>Apply the Gradle plugin and add these dependencies in your app/build.gradle file: </p><div class="tabs" id="-4bazve_122" data-anchors="[-4bazve_123,-4bazve_125]"><div class="tabs__content" data-gtm="tab" id="-4bazve_123" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
plugins {
  id 'kotlin-kapt'
  id 'com.google.dagger.hilt.android'
}
...
dependencies {
implementation &quot;com.google.dagger:hilt-android:2.44&quot;
kapt &quot;com.google.dagger:hilt-compiler:2.44&quot;
...
}
// Allow references to generated code
kapt {
correctErrorTypes true
}
</div></div><div class="tabs__content" data-gtm="tab" id="-4bazve_125" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
plugins {
  id(&quot;kotlin-kapt&quot;)
  id(&quot;com.google.dagger.hilt.android&quot;)
}
dependencies {
implementation(&quot;com.google.dagger:hilt-android:2.44&quot;)
kapt(&quot;com.google.dagger:hilt-android-compiler:2.44&quot;)
}
// Allow references to generated code
kapt {
correctErrorTypes = true
}
</div></div></div></li><li class="list__item" id="-4bazve_127"><p>Ensure the project is working with JAVA 8 </p><div class="tabs" id="-4bazve_128" data-anchors="[-4bazve_129,-4bazve_131]"><div class="tabs__content" data-gtm="tab" id="-4bazve_129" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
android {
  ...
  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-4bazve_131" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
android {
  ...
  compileOptions {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
  }
}
</div></div></div></li></ol></section></section><section class="chapter"><h2 id="use" data-toc="use">Use</h2><p id="-4bazve_133">All apps that use <code class="code" id="-4bazve_134">Hilt</code> must contain an <code class="code" id="-4bazve_135">Application</code> class that is annotated with <code class="code" id="-4bazve_136">@HiltAndroidApp.</code></p><p id="-4bazve_137"><code class="code" id="-4bazve_138">@HiltAndroidApp</code> triggers Hilt's code generation, including a base class for your application that serves as the application-level dependency container.</p><div class="code-block" data-lang="kotlin">
@HiltAndroidApp
class HiltClassName : Application() { ... }
</div><p id="-4bazve_140">This class indicates to Android that the app uses Hilt for dependencies injection. Because of that, it must be added in the Android Manifest:</p><div class="code-block" data-lang="markup">
 &lt;aplication&gt;
android:name=&quot;.config.dependencies.HiltClassName&quot;
...
&lt;/aplication&gt;
</div><p id="-4bazve_142">Once Hilt is set up in the <code class="code" id="-4bazve_143">Application</code> class and an application-level component is available, Hilt can provide dependencies to other Android classes that have the<code class="code" id="-4bazve_144">@AndroidEntryPoint</code> annotation:</p><div class="code-block" data-lang="kotlin">
@AndroidEntryPoint
class MainActivity : ComponentActivity() { ... }
</div><p id="-4bazve_146">The above wraps the entire application, but it needs to be added to any Android <code class="code" id="-4bazve_147">Activity</code> class.</p><aside class="prompt" data-type="note" data-title="" id="-4bazve_148"><p id="-4bazve_149"><span class="control" id="-4bazve_150">Note</span></p><p id="-4bazve_151">Dependencies Injection allows to crate a unique declaration an initialization and send it as a parameter to any other class. This allows to share a declaration that is already initialized to any component.</p></aside><p id="-4bazve_152">Sometimes a type cannot be constructor-injected. This can happen for multiple reasons. For example, you cannot constructor-inject an interface. You also cannot constructor-inject a type that you do not own, such as a class from an external library. In these cases, you can provide Hilt with binding information by using Hilt modules.</p><p id="-4bazve_153">A Hilt module is a class that is annotated with @Module. Like a Dagger module, it informs Hilt how to provide instances of certain types. Unlike Dagger modules, you must annotate Hilt modules with @InstallIn to tell Hilt which Android class each module will be used or installed in. <span class="control" id="-4bazve_154">So then, create an object that contains any of function, var, declaration to inject and initialize it:</span></p><div class="code-block" data-lang="kotlin">
@Module
@InstallIn(SingletonComponent::class)
object AppModule {
    @Singleton
    @Provides
/* The object could represent a RetroFit, a Room or a Firebase object */
    fun providesConfig(): ObjectToConfig { 
        return ObjectToConfig.config() ...
    }
    @Singleton
    @Provides
    fun provideInstance(objectToConfig: ObjectToConfig): InterfaceName {
        return objectToConfig.create(InterfaceName::class.java)
    }
}
</div><p id="-4bazve_156">To see how does this could work using <a href="retrofit.html" id="-4bazve_157" data-tooltip="Retrofit is a type-safe HTTP client for Android and Java developed by Square, Inc. It simplifies the process of making network requests from your app to a web service. Retrofit turns your HTTP API into a Java (or Kotlin) interface, allowing you to define the endpoints and the HTTP…">RetroFit</a>, <a href="room.html" id="-4bazve_158" data-tooltip="Apps that handle non-trivial amounts of structured data can benefit greatly from persisting that data locally. The most common use case is to cache relevant pieces of data so that when the device cannot access the network, the user can still browse that content while they are…">Room</a> click on it respective names</p><aside class="prompt" data-type="tip" data-title="" id="-4bazve_159"><p id="-4bazve_160"><span class="control" id="-4bazve_161">TIP</span></p><p id="-4bazve_162">You can work with repositories and interfaces to be injected into other classes and invoke any function needed</p></aside><p id="-4bazve_163">To perform field injection, Hilt needs to know how to provide instances of the necessary dependencies from the corresponding component. A binding contains the information necessary to provide instances of a type as a dependency.</p><p id="-4bazve_164">One way to provide binding information to Hilt is constructor injection. Use the @Inject annotation on the constructor of a class to tell Hilt how to provide instances of that class:</p><div class="code-block" data-lang="kotlin">
class ClassName @Inject constructor(
  private val injection: InterfaceName // The interface created in the example above
) { ... }
</div></section><div class="last-modified">Last modified: 21 julio 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="datastore.html" class="navigation-links__prev">DataStore</a><a href="room.html" class="navigation-links__next">Room</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.js"></script></body></html>